# 服务器 断点续传 #

通常情况下，Web服务器(如Apache)会默认开启对断点续传的支持。因此，如果直接通过Web服务器来提供文件的下载，可以不必做特别的配置，即可享受到断点续传的好处。断点续传是在发起HTTP请求的时候加入RANGE头来告诉服务器客户端已经下载了多少字节。等所有这些请求都返回之后，再把得到的内容一块一块的拼接起来得到完整的资源。

## 测试服务器是否支持断点续传

	C:\Users\mac>curl -I "http://httpd.apache.org/images/httpd_logo_wide_new.png"
	HTTP/1.1 200 OK
	Date: Thu, 26 Oct 2017 07:43:57 GMT
	Server: Apache/2.4.7 (Ubuntu)
	Last-Modified: Thu, 07 Sep 2017 10:57:46 GMT
	ETag: "4c8d-55897549fa997"
	Accept-Ranges: bytes
	Content-Length: 19597
	Content-Type: image/png

关于这个文件，Response Header中包含俩个头字段：Accept-Ranges: bytes， Content-Length

Accept-Ranges: bytes，表示服务器对于这个文件接收Range范围的请求，远程服务器上使用的单位是字节。

Accept-Ranges: none ,表示不支持发送Rang 请求.

## 指定范围下载

	C:\Users\mac>curl --range 0-99  "http://httpd.apache.org/images/httpd_logo_wide_new.png"

发送字节范围下载，下载最开始的99字节

